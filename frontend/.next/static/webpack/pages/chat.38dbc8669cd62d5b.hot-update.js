"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/chat",{

/***/ "(pages-dir-browser)/./pages/chat.js":
/*!***********************!*\
  !*** ./pages/chat.js ***!
  \***********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-jsx/style */ \"(pages-dir-browser)/./node_modules/styled-jsx/style.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var qrcode_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! qrcode.react */ \"(pages-dir-browser)/./node_modules/qrcode.react/lib/esm/index.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/router */ \"(pages-dir-browser)/./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _firebase_clientApp__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../firebase/clientApp */ \"(pages-dir-browser)/./firebase/clientApp.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! firebase/auth */ \"(pages-dir-browser)/./node_modules/firebase/auth/dist/esm/index.esm.js\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-hot-toast */ \"(pages-dir-browser)/./node_modules/react-hot-toast/dist/index.mjs\");\n/* harmony import */ var _lib_firestoreHelpers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/firestoreHelpers */ \"(pages-dir-browser)/./lib/firestoreHelpers.js\");\n/* harmony import */ var react_simple_keyboard__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-simple-keyboard */ \"(pages-dir-browser)/./node_modules/react-simple-keyboard/build/index.js\");\n/* harmony import */ var react_simple_keyboard__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_simple_keyboard__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var react_simple_keyboard_build_css_index_css__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-simple-keyboard/build/css/index.css */ \"(pages-dir-browser)/./node_modules/react-simple-keyboard/build/css/index.css\");\n/* harmony import */ var react_simple_keyboard_build_css_index_css__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_simple_keyboard_build_css_index_css__WEBPACK_IMPORTED_MODULE_10__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n// IMPORT VIRTUAL KEYBOARD\n\n\n// ✅ FIX: Define QWERTY keyboard layout\nconst layout = {\n    qwerty: {\n        default: [\n            \"0 1 2 3 4 5 6 7 8 9\",\n            \"q w e r t y u i o p {backspace}\",\n            \"a s d f g h j k l {enter}\",\n            \"{shift} z x c v b n m\",\n            \"{@} {%} {?} {space} {,} {.}\"\n        ],\n        shift: [\n            \"0 1 2 3 4 5 6 7 8 9\",\n            \"Q W E R T Y U I O P {backspace}\",\n            \"A S D F G H J K L {enter}\",\n            \"{shift} Z X C V B N M\",\n            \"{@} {%} {?} {space} {,} {.}\"\n        ]\n    }\n};\n// Simple markdown renderer without external dependencies\nfunction SimpleMarkdownRenderer(param) {\n    let { text } = param;\n    if (!text) return null;\n    const lines = text.split(\"\\n\");\n    return lines.map((line, index)=>{\n        if (line.trim() === \"\") return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, index, false, {\n            fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n            lineNumber: 45,\n            columnNumber: 36\n        }, this);\n        let content = line;\n        const boldRegex = /\\*\\*(.*?)\\*\\*/g;\n        const parts = [];\n        let lastIndex = 0;\n        let match;\n        while((match = boldRegex.exec(content)) !== null){\n            if (match.index > lastIndex) {\n                parts.push(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    children: content.substring(lastIndex, match.index)\n                }, \"\".concat(index, \"-\").concat(lastIndex), false, {\n                    fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                    lineNumber: 56,\n                    columnNumber: 11\n                }, this));\n            }\n            parts.push(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                children: match[1]\n            }, \"\".concat(index, \"-bold-\").concat(match.index), false, {\n                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                lineNumber: 62,\n                columnNumber: 9\n            }, this));\n            lastIndex = match.index + match[0].length;\n        }\n        if (lastIndex < content.length) {\n            parts.push(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                children: content.substring(lastIndex)\n            }, \"\".concat(index, \"-remaining\"), false, {\n                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                lineNumber: 69,\n                columnNumber: 9\n            }, this));\n        }\n        if (parts.length === 0) {\n            parts.push(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                children: content\n            }, \"\".concat(index, \"-plain\"), false, {\n                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                lineNumber: 74,\n                columnNumber: 18\n            }, this));\n        }\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"mb-1 last:mb-0\",\n            children: [\n                parts,\n                index < lines.length - 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                    lineNumber: 80,\n                    columnNumber: 38\n                }, this)\n            ]\n        }, index, true, {\n            fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n            lineNumber: 78,\n            columnNumber: 7\n        }, this);\n    });\n}\n_c = SimpleMarkdownRenderer;\nfunction formatAIResponse(text) {\n    if (!text) return \"\";\n    let cleaned = text.trim();\n    if (cleaned.startsWith(\"{\") && cleaned.endsWith(\"}\")) {\n        try {\n            const json = JSON.parse(cleaned);\n            cleaned = json.generated_text || json.response || json.answer || json.output || json.text || json.message || JSON.stringify(json);\n        } catch (e) {}\n    }\n    cleaned = cleaned.replace(/^\"|\"$/g, \"\");\n    cleaned = cleaned.replace(/\\\\n/g, \"\\n\");\n    cleaned = cleaned.replace(/\\\\\"/g, '\"');\n    cleaned = cleaned.replace(/\\\\t/g, \"  \");\n    return cleaned;\n}\nfunction ChatPage() {\n    _s();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_4__.useRouter)();\n    const { model, public: isPublic } = router.query;\n    const modelConfigs = {\n        ece: {\n            url: \"https://tiyupi-ece-ece-api.hf.space/generate\",\n            token: \"\"\n        },\n        nav: {\n            url: \"https://tiyupi-ece-somi-cali.hf.space/chat\",\n            token: \"\"\n        },\n        info: {\n            url: \"https://tiyupi-ece-hitupi.hf.space/chat\",\n            token: \"\"\n        }\n    };\n    const modelKey = model || \"ece\";\n    const selectedModel = modelConfigs[modelKey] || {};\n    const isPublicAccess = isPublic === \"true\";\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [nickname, setNickname] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [realName, setRealName] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [sending, setSending] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [shiftActive, setShiftActive] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const endRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)();\n    const [sidebarOpen, setSidebarOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    // VIRTUAL KEYBOARD STATE\n    const [showKeyboard, setShowKeyboard] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const keyboardRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const lastScrollTopRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(0);\n    const keyboardScrollThreshold = 20;\n    const chatContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const inputBarRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const keyboardInputRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(\"\");\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const caretPositionRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(0);\n    // ✅ SHARE / QR STATE (added)\n    const [shareId, setShareId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [shareOpen, setShareOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    /* AUTH */ (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            const unsub = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_6__.onAuthStateChanged)(_firebase_clientApp__WEBPACK_IMPORTED_MODULE_5__.auth, {\n                \"ChatPage.useEffect.unsub\": async (u)=>{\n                    if (isPublicAccess && !u) {\n                        setUser(null);\n                        setNickname(\"Guest\");\n                        setRealName(\"Guest\");\n                        setMessages([]);\n                        setLoading(false);\n                        return;\n                    }\n                    if (!isPublicAccess && !u) {\n                        router.replace(\"/login\");\n                        return;\n                    }\n                    setUser(u);\n                    try {\n                        if (u) {\n                            var _u_email, _u_email1;\n                            const profile = await (0,_lib_firestoreHelpers__WEBPACK_IMPORTED_MODULE_8__.getUserProfile)(u.uid);\n                            const name = (profile === null || profile === void 0 ? void 0 : profile.name) || u.displayName || (profile === null || profile === void 0 ? void 0 : profile.nickname) || ((_u_email = u.email) === null || _u_email === void 0 ? void 0 : _u_email.split(\"@\")[0]) || \"User\";\n                            setRealName(name);\n                            const nick = (profile === null || profile === void 0 ? void 0 : profile.nickname) || (profile === null || profile === void 0 ? void 0 : profile.name) || u.displayName || ((_u_email1 = u.email) === null || _u_email1 === void 0 ? void 0 : _u_email1.split(\"@\")[0]) || \"User\";\n                            setNickname(nick);\n                            const conv = await (0,_lib_firestoreHelpers__WEBPACK_IMPORTED_MODULE_8__.getConversation)(u.uid, modelKey);\n                            setMessages((conv === null || conv === void 0 ? void 0 : conv.messages) || []);\n                        }\n                    } catch (e) {}\n                    setLoading(false);\n                }\n            }[\"ChatPage.useEffect.unsub\"]);\n            return ({\n                \"ChatPage.useEffect\": ()=>unsub()\n            })[\"ChatPage.useEffect\"];\n        }\n    }[\"ChatPage.useEffect\"], [\n        router,\n        modelKey,\n        isPublicAccess\n    ]);\n    // Get references on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            chatContainerRef.current = document.querySelector(\".absolute.inset-0.px-6.overflow-y-auto.flex.flex-col\");\n            inputBarRef.current = document.querySelector(\"form.fixed.left-0.z-50\");\n        }\n    }[\"ChatPage.useEffect\"], []);\n    // Handle scroll to auto-hide keyboard\n    const handleScroll = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"ChatPage.useCallback[handleScroll]\": ()=>{\n            if (!showKeyboard) return;\n            const chatContainer = chatContainerRef.current;\n            if (!chatContainer) return;\n            const currentScrollTop = chatContainer.scrollTop;\n            const scrollDiff = Math.abs(currentScrollTop - lastScrollTopRef.current);\n            if (scrollDiff > keyboardScrollThreshold) {\n                setShowKeyboard(false);\n                const inputElement = document.querySelector('input[placeholder*=\"Ask\"]');\n                if (inputElement) inputElement.blur();\n            }\n            lastScrollTopRef.current = currentScrollTop;\n        }\n    }[\"ChatPage.useCallback[handleScroll]\"], [\n        showKeyboard\n    ]);\n    // Attach scroll event listener\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            const chatContainer = chatContainerRef.current;\n            if (!chatContainer) return;\n            chatContainer.addEventListener(\"scroll\", handleScroll);\n            return ({\n                \"ChatPage.useEffect\": ()=>{\n                    chatContainer.removeEventListener(\"scroll\", handleScroll);\n                }\n            })[\"ChatPage.useEffect\"];\n        }\n    }[\"ChatPage.useEffect\"], [\n        handleScroll\n    ]);\n    // Reset scroll tracking when keyboard shows\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            if (showKeyboard && chatContainerRef.current) {\n                lastScrollTopRef.current = chatContainerRef.current.scrollTop;\n            }\n        }\n    }[\"ChatPage.useEffect\"], [\n        showKeyboard\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            var _endRef_current;\n            (_endRef_current = endRef.current) === null || _endRef_current === void 0 ? void 0 : _endRef_current.scrollIntoView({\n                behavior: \"smooth\"\n            });\n        }\n    }[\"ChatPage.useEffect\"], [\n        messages\n    ]);\n    /* SEND MESSAGE */ async function handleSend(e) {\n        e.preventDefault();\n        const trimmed = input.trim();\n        if (!trimmed) return;\n        const userMsg = {\n            role: \"user\",\n            content: trimmed\n        };\n        const updatedMessages = [\n            ...messages,\n            userMsg\n        ];\n        setMessages(updatedMessages);\n        setInput(\"\");\n        setSending(true);\n        setShowKeyboard(false);\n        keyboardInputRef.current = \"\";\n        react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"].loading(\"Sending...\", {\n            id: \"send\"\n        });\n        try {\n            if (user && !isPublicAccess) await (0,_lib_firestoreHelpers__WEBPACK_IMPORTED_MODULE_8__.appendMessage)(user.uid, modelKey, userMsg);\n            if (!selectedModel.url) {\n                const errorMsg = {\n                    role: \"assistant\",\n                    content: \"Model unavailable.\"\n                };\n                setMessages([\n                    ...updatedMessages,\n                    errorMsg\n                ]);\n                if (user && !isPublicAccess) await (0,_lib_firestoreHelpers__WEBPACK_IMPORTED_MODULE_8__.appendMessage)(user.uid, modelKey, errorMsg);\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"].dismiss(\"send\");\n                setSending(false);\n                return;\n            }\n            const requestOptions = {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            };\n            const requestFormats = [\n                {\n                    inputs: trimmed,\n                    parameters: {\n                        max_new_tokens: 500,\n                        temperature: 0.7\n                    }\n                },\n                {\n                    query: trimmed,\n                    max_new_tokens: 500,\n                    temperature: 0.7\n                },\n                {\n                    input: trimmed,\n                    max_length: 500,\n                    temperature: 0.7\n                }\n            ];\n            let reply = \"\";\n            let lastError = null;\n            for(let i = 0; i < requestFormats.length; i++){\n                try {\n                    requestOptions.body = JSON.stringify(requestFormats[i]);\n                    const res = await fetch(selectedModel.url, requestOptions);\n                    if (!res.ok) throw new Error(\"HTTP \".concat(res.status));\n                    const raw = await res.text();\n                    reply = formatAIResponse(raw);\n                    if (reply && reply !== \"{}\") break;\n                } catch (err) {\n                    lastError = err;\n                }\n            }\n            if (!reply && lastError) throw lastError;\n            if (!reply) throw new Error(\"No response\");\n            reply = reply.trim();\n            const aiMsg = {\n                role: \"assistant\",\n                content: reply\n            };\n            setMessages([\n                ...updatedMessages,\n                aiMsg\n            ]);\n            if (user && !isPublicAccess) await (0,_lib_firestoreHelpers__WEBPACK_IMPORTED_MODULE_8__.appendMessage)(user.uid, modelKey, aiMsg);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"].success(\"Reply received\", {\n                id: \"send\"\n            });\n        } catch (err) {\n            const errorMsg = {\n                role: \"assistant\",\n                content: \"**Error:** \".concat(err.message)\n            };\n            setMessages([\n                ...messages,\n                userMsg,\n                errorMsg\n            ]);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error(\"Send failed\", {\n                id: \"send\"\n            });\n        }\n        setSending(false);\n    }\n    async function handleNewChat() {\n        if (user && !isPublicAccess) await (0,_lib_firestoreHelpers__WEBPACK_IMPORTED_MODULE_8__.setConversation)(user.uid, modelKey, []);\n        setMessages([]);\n        // ✅ reset share state too (added)\n        setShareId(null);\n        setShareOpen(false);\n    }\n    function handleSignOut() {\n        (0,firebase_auth__WEBPACK_IMPORTED_MODULE_6__.signOut)(_firebase_clientApp__WEBPACK_IMPORTED_MODULE_5__.auth).then(()=>router.push(\"/login\"));\n    }\n    // NEW: Handle sign in redirect\n    function handleSignIn() {\n        router.push(\"/login\");\n    }\n    // ✅ Generate QR (added)\n    async function handleGenerateQR() {\n        try {\n            if (!messages || messages.length === 0) {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error(\"No conversation to share yet.\");\n                return;\n            }\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"].loading(\"Generating QR...\", {\n                id: \"share\"\n            });\n            const res = await fetch(\"/api/share\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    modelKey,\n                    createdAt: Date.now(),\n                    messages: messages.map((m)=>({\n                            role: m.role,\n                            content: m.content\n                        }))\n                })\n            });\n            if (!res.ok) throw new Error(\"HTTP \".concat(res.status));\n            const data = await res.json();\n            if (!(data === null || data === void 0 ? void 0 : data.id)) throw new Error(\"No share id returned.\");\n            setShareId(data.id);\n            setShareOpen(true);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"].success(\"QR ready!\", {\n                id: \"share\"\n            });\n        } catch (e) {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error(\"Failed: \".concat(e.message), {\n                id: \"share\"\n            });\n        }\n    }\n    if (loading) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-screen flex items-center justify-center text-xl\",\n        children: \"Loading…\"\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n        lineNumber: 389,\n        columnNumber: 7\n    }, this);\n    const headerHeight = 48;\n    const footerHeight = 32;\n    const sidebarWidth = 224;\n    const keyboardHeight = 280;\n    const inputBarHeight = 60;\n    const keyboardPadding = 4; // REDUCED FROM 8 TO 4\n    const shareUrl = shareId && \"object\" !== \"undefined\" ? \"\".concat(window.location.origin, \"/share/\").concat(shareId) : \"\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative h-screen w-screen overflow-hidden bg-cover bg-center\",\n        style: {\n            backgroundImage: \"url('/bg.png')\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 bg-[rgba(245,245,245,0.18)] backdrop-blur-sm\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                lineNumber: 411,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"fixed top-0 left-0 right-0 z-50 bg-black/30 text-white py-1.5 px-4 flex justify-between items-center shadow-sm\",\n                style: {\n                    height: \"\".concat(headerHeight, \"px\")\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: \"/tuplogo.png\",\n                                alt: \"TUP Logo\",\n                                className: \"h-7 w-7\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                lineNumber: 419,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"text-xs md:text-sm font-bold\",\n                                children: \"TECHNOLOGICAL UNIVERSITY OF THE PHILIPPINES\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                lineNumber: 420,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                        lineNumber: 418,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: user ? handleSignOut : handleSignIn,\n                        className: \"bg-[#faa029] text-black font-semibold px-5 py-2 rounded-full shadow\",\n                        children: user ? \"Sign Out\" : \"Sign In\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                        lineNumber: 426,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                lineNumber: 414,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                className: \"fixed bottom-0 left-0 right-0 z-50 bg-black/30 text-center py-1 text-white text-xs\",\n                style: {\n                    height: \"\".concat(footerHeight, \"px\")\n                },\n                children: \"Designed by: Electronics Engineering Department\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                lineNumber: 435,\n                columnNumber: 7\n            }, this),\n            showKeyboard && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    bottom: \"\".concat(footerHeight + 4, \"px\"),\n                    left: sidebarOpen ? \"\".concat(sidebarWidth, \"px\") : \"0px\",\n                    height: \"\".concat(keyboardHeight, \"px\"),\n                    zIndex: 55\n                },\n                className: \"jsx-944d9fe6c9c4852c\" + \" \" + \"fixed left-0 right-0 bg-white shadow-2xl border-t border-gray-300\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"jsx-944d9fe6c9c4852c\" + \" \" + \"flex justify-end p-1 bg-gray-100\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>{\n                                setShowKeyboard(false);\n                                const inputElement = document.querySelector('input[placeholder*=\"Ask\"]');\n                                if (inputElement) inputElement.focus();\n                            },\n                            className: \"jsx-944d9fe6c9c4852c\" + \" \" + \"text-gray-600 hover:text-gray-800 px-2 py-1 rounded text-xs\",\n                            children: \"Close Keyboard\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                            lineNumber: 454,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                        lineNumber: 453,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((react_simple_keyboard__WEBPACK_IMPORTED_MODULE_9___default()), {\n                        keyboardRef: (r)=>{\n                            keyboardRef.current = r;\n                            if (r) r.setInput(input);\n                        },\n                        input: input,\n                        layoutName: shiftActive ? \"shift\" : \"default\",\n                        layout: layout.qwerty,\n                        onChange: (newInput)=>{\n                            setInput(newInput);\n                        },\n                        onKeyPress: (button)=>{\n                            if (button === \"{shift}\") {\n                                const newShiftState = !shiftActive;\n                                setShiftActive(newShiftState);\n                                // keep keyboard layout in sync\n                                setTimeout(()=>{\n                                    var _keyboardRef_current;\n                                    (_keyboardRef_current = keyboardRef.current) === null || _keyboardRef_current === void 0 ? void 0 : _keyboardRef_current.setOptions({\n                                        layoutName: newShiftState ? \"shift\" : \"default\"\n                                    });\n                                }, 10);\n                                return;\n                            }\n                            if (button === \"{enter}\") {\n                                handleSend({\n                                    preventDefault: ()=>{}\n                                });\n                                return;\n                            }\n                        },\n                        theme: \"hg-theme-default hg-theme-custom\",\n                        display: {\n                            \"{backspace}\": \"⌫\",\n                            \"{enter}\": \"↵\",\n                            \"{shift}\": \"⇧\",\n                            \"{space}\": \"Space\",\n                            \"{@}\": \"@\",\n                            \"{%}\": \"%\",\n                            \"{?}\": \"?\",\n                            \"{,}\": \",\",\n                            \"{.}\": \".\"\n                        },\n                        preventMouseDownDefault: true,\n                        preventMouseUpDefault: true,\n                        syncInstanceInputs: true,\n                        mergeDisplay: true,\n                        newLineOnEnter: false,\n                        autoUseTouchEvents: true\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                        lineNumber: 468,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default()), {\n                        id: \"944d9fe6c9c4852c\",\n                        children: \".simple-keyboard{background:white!important;padding:10px!important;height:calc(100% - 30px)!important;width:100%!important;box-sizing:border-box!important}.hg-theme-custom{background-color:white!important;height:100%!important;display:flex!important;flex-direction:column!important}.hg-button{height:45px!important;border-radius:6px!important;font-weight:500!important;font-size:14px!important;box-shadow:0 2px 3px rgba(0,0,0,.15)!important;margin:3px!important;display:flex!important;align-items:center!important;justify-content:center!important;transition:all.1s ease!important;min-width:0!important;flex:1!important}.hg-row:nth-child(1) .hg-button{background:#f8f9fa!important;color:#333!important;border:1px solid#ddd!important}.hg-row:nth-child(2) .hg-button:not(.hg-button-backspace):not(.hg-button-enter),.hg-row:nth-child(3) .hg-button:not(.hg-button-enter),.hg-row:nth-child(4) .hg-button:not(.hg-button-shift){background:#aa3636!important;color:white!important;border:1px solid#8a2c2c!important}.hg-row:nth-child(5) .hg-button{background:#faa029!important;color:black!important;border:1px solid#d88c20!important;font-weight:bold!important}.hg-button-shift,.hg-button-backspace,.hg-button-enter{background:#faa029!important;color:black!important;border:1px solid#d88c20!important;font-weight:bold!important}.hg-button-space{flex-grow:3!important;max-width:none!important}.hg-button-backspace,.hg-button-enter,.hg-button-shift{min-width:70px!important;flex-grow:.5!important}.hg-button-\\\\\\\\{@\\\\\\\\;},\\n            .hg-button-\\\\\\\\{%\\\\\\\\},\\n            .hg-button-\\\\\\\\{\\\\\\\\?\\\\\\\\},\\n            .hg-button-\\\\\\\\{\\\\\\\\,\\\\\\\\},\\n            .hg-button-\\\\\\\\{\\\\\\\\.\\\\\\\\}{min-width:35px!important;flex-grow:.3!important}.hg-button:active,.hg-button.hg-activeBtn{transform:translatey(2px)!important;box-shadow:0 1px 2px rgba(0,0,0,.1)!important}.hg-row:nth-child(2) .hg-button:active:not(.hg-button-backspace):not(.hg-button-enter),.hg-row:nth-child(3) .hg-button:active:not(.hg-button-enter),.hg-row:nth-child(4) .hg-button:active:not(.hg-button-shift){background:#8a2c2c!important}.hg-button-shift:active,.hg-button-backspace:active,.hg-button-enter:active,.hg-row:nth-child(5) .hg-button:active,.hg-button-shift.hg-activeBtn{background:#d88c20!important}.hg-rows{height:100%!important;display:flex!important;flex-direction:column!important;justify-content:space-between!important;padding:0 8px!important}.hg-row{display:flex!important;justify-content:center!important;flex:1!important;min-height:48px!important;margin-bottom:5px!important}.hg-button-standard{min-width:35px!important;flex:1!important;max-width:50px!important}.hg-row:last-child{margin-bottom:0!important}.hg-button-backspace{font-size:16px!important}.hg-button-enter{font-size:16px!important}.simple-keyboard.hg-layout-default .hg-row{flex-wrap:nowrap!important}.hg-button span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}\"\n                    }, void 0, false, void 0, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                lineNumber: 444,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex h-full relative z-10\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"fixed bg-[#aa3636] text-white shadow-xl flex flex-col px-4 py-3 transition-transform duration-300\",\n                        style: {\n                            top: headerHeight,\n                            bottom: footerHeight,\n                            width: sidebarWidth,\n                            transform: sidebarOpen ? \"translateX(0)\" : \"translateX(-100%)\",\n                            zIndex: 60\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>router.push(user ? \"/models\" : \"/\"),\n                                className: \"flex items-center gap-1 text-[#faa029] transition mb-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xl\",\n                                        children: \"←\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                        lineNumber: 667,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-sm font-semibold\",\n                                        children: user ? \"Back to Menu\" : \"Back to Home\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                        lineNumber: 668,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                lineNumber: 663,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleNewChat,\n                                className: \"w-full bg-white text-[#aa3636] font-bold py-1 rounded-full shadow mb-6 text-sm\",\n                                style: {\n                                    marginTop: \"-4px\"\n                                },\n                                children: \"+ New Chat\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                lineNumber: 674,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm opacity-80 mb-3\",\n                                children: \"Recents\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                lineNumber: 682,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"h-[1px] bg-white/40 mb-4\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                lineNumber: 683,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-auto flex items-center gap-3 border-t border-white/30 pt-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"h-10 w-10 bg-white/20 rounded-full flex items-center justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                            src: \"/tupi-logo.png\",\n                                            className: \"h-8 w-8 rounded-full\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                            lineNumber: 688,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                        lineNumber: 687,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm font-bold\",\n                                                children: realName\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                                lineNumber: 691,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs opacity-80\",\n                                                children: user ? \"Logged In\" : \"Guest Mode\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                                lineNumber: 692,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                        lineNumber: 690,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                lineNumber: 686,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                        lineNumber: 652,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setSidebarOpen(!sidebarOpen),\n                        className: \"fixed bg-[#aa3636] text-white px-2 py-3 rounded-r-full shadow transition-all duration-300\",\n                        style: {\n                            top: \"calc(\".concat(headerHeight, \"px + 30%)\"),\n                            left: sidebarOpen ? \"\".concat(sidebarWidth, \"px\") : \"0px\",\n                            transform: \"translateY(-50%)\",\n                            zIndex: 70\n                        },\n                        children: sidebarOpen ? \"◀\" : \"▶\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                        lineNumber: 700,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 relative transition-all duration-300 \".concat(sidebarOpen ? \"ml-[224px]\" : \"ml-0\"),\n                        style: {\n                            marginTop: \"\".concat(headerHeight, \"px\"),\n                            marginBottom: showKeyboard ? \"\".concat(footerHeight + keyboardHeight + keyboardPadding + inputBarHeight + 4, \"px\") : \"\".concat(footerHeight, \"px\"),\n                            transition: \"margin-bottom 0.3s ease-in-out\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute top-3 right-6 z-40\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleGenerateQR,\n                                    disabled: messages.length === 0,\n                                    className: \"px-4 py-2 rounded-full shadow font-semibold text-xs \".concat(messages.length === 0 ? \"bg-white/50 text-gray-700\" : \"bg-white/90 text-black\"),\n                                    title: messages.length === 0 ? \"Start a conversation first\" : \"Generate QR for this conversation\",\n                                    children: \"Generate QR\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                    lineNumber: 728,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                lineNumber: 727,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute inset-0 px-6 overflow-y-auto flex flex-col\",\n                                style: {\n                                    paddingTop: \"15px\",\n                                    paddingBottom: showKeyboard ? \"\".concat(inputBarHeight + keyboardPadding + keyboardHeight, \"px\") : \"\".concat(inputBarHeight, \"px\")\n                                },\n                                children: [\n                                    messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-1 flex justify-center items-center text-center text-sm font-bold text-[#aa3636]\",\n                                        children: [\n                                            \"Hello, \",\n                                            nickname,\n                                            \"!\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                        lineNumber: 757,\n                                        columnNumber: 15\n                                    }, this) : messages.map((msg, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mb-4 w-full \".concat(msg.role === \"user\" ? \"text-right\" : \"text-left\"),\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"inline-block px-4 py-3 rounded-2xl shadow-lg text-sm max-w-[85%] \".concat(msg.role === \"user\" ? \"bg-[#aa3636] text-white\" : \"bg-white text-black border border-gray-200\"),\n                                                style: {\n                                                    whiteSpace: \"pre-wrap\",\n                                                    wordBreak: \"break-word\",\n                                                    overflowWrap: \"break-word\"\n                                                },\n                                                children: msg.role === \"user\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"whitespace-pre-wrap break-words\",\n                                                    children: msg.content\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                                    lineNumber: 781,\n                                                    columnNumber: 23\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SimpleMarkdownRenderer, {\n                                                    text: msg.content\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                                    lineNumber: 785,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                                lineNumber: 768,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, i, false, {\n                                            fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                            lineNumber: 762,\n                                            columnNumber: 17\n                                        }, this)),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        ref: endRef\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                        lineNumber: 792,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                lineNumber: 747,\n                                columnNumber: 11\n                            }, this),\n                            shareOpen && shareId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"fixed inset-0 z-[90] flex items-center justify-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 bg-black/50\",\n                                        onClick: ()=>setShareOpen(false)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                        lineNumber: 798,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative bg-white rounded-2xl shadow-2xl border p-5 w-[320px] max-w-[90vw]\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm font-bold text-center mb-1\",\n                                                children: \"Scan to view on phone\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                                lineNumber: 803,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-gray-600 text-center mb-3\",\n                                                children: \"This opens a document-style page that can be saved as PDF.\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                                lineNumber: 806,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(qrcode_react__WEBPACK_IMPORTED_MODULE_3__.QRCodeCanvas, {\n                                                    value: shareUrl,\n                                                    size: 220,\n                                                    includeMargin: true\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                                    lineNumber: 811,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                                lineNumber: 810,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-4 flex gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        className: \"flex-1 bg-[#aa3636] text-white text-xs font-semibold py-2 rounded-xl\",\n                                                        onClick: ()=>{\n                                                            var _navigator_clipboard;\n                                                            if (!shareUrl) return;\n                                                            (_navigator_clipboard = navigator.clipboard) === null || _navigator_clipboard === void 0 ? void 0 : _navigator_clipboard.writeText(shareUrl);\n                                                            react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"].success(\"Link copied!\");\n                                                        },\n                                                        children: \"Copy Link\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                                        lineNumber: 815,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        className: \"flex-1 bg-gray-200 text-xs font-semibold py-2 rounded-xl\",\n                                                        onClick: ()=>setShareOpen(false),\n                                                        children: \"Close\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                                        lineNumber: 826,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                                lineNumber: 814,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                        lineNumber: 802,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                lineNumber: 797,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                                ref: inputBarRef,\n                                onSubmit: handleSend,\n                                className: \"fixed left-0 z-50 flex items-center justify-center gap-3 transition-all duration-300 \".concat(sidebarOpen ? \"ml-[224px] w-[calc(100%-14rem)] px-6\" : \"ml-0 w-full px-6\"),\n                                style: {\n                                    bottom: showKeyboard ? \"\".concat(footerHeight + keyboardHeight + keyboardPadding + 4, \"px\") : \"\".concat(footerHeight + 8, \"px\"),\n                                    transition: \"bottom 0.3s ease-in-out\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        ref: inputRef,\n                                        value: input,\n                                        onChange: (e)=>{\n                                            const value = e.target.value;\n                                            const caret = e.target.selectionStart;\n                                            setInput(value);\n                                            keyboardInputRef.current = value;\n                                            caretPositionRef.current = caret;\n                                            if (keyboardRef.current) {\n                                                keyboardRef.current.setInput(value);\n                                                keyboardRef.current.setCaretPosition(caret);\n                                            }\n                                        },\n                                        onClick: (e)=>{\n                                            var _keyboardRef_current;\n                                            const caret = e.target.selectionStart;\n                                            caretPositionRef.current = caret;\n                                            (_keyboardRef_current = keyboardRef.current) === null || _keyboardRef_current === void 0 ? void 0 : _keyboardRef_current.setCaretPosition(caret);\n                                        },\n                                        onKeyUp: (e)=>{\n                                            var _keyboardRef_current;\n                                            const caret = e.target.selectionStart;\n                                            caretPositionRef.current = caret;\n                                            (_keyboardRef_current = keyboardRef.current) === null || _keyboardRef_current === void 0 ? void 0 : _keyboardRef_current.setCaretPosition(caret);\n                                        },\n                                        onFocus: ()=>{\n                                            setShowKeyboard(true);\n                                            if (chatContainerRef.current) {\n                                                lastScrollTopRef.current = chatContainerRef.current.scrollTop;\n                                            }\n                                        },\n                                        onBlur: (e)=>{\n                                            var _e_relatedTarget, _e_relatedTarget1, _e_relatedTarget2, _e_relatedTarget3;\n                                            const isKeyboardClick = (_e_relatedTarget = e.relatedTarget) === null || _e_relatedTarget === void 0 ? void 0 : _e_relatedTarget.closest(\".simple-keyboard\");\n                                            const isInputClick = (_e_relatedTarget1 = e.relatedTarget) === null || _e_relatedTarget1 === void 0 ? void 0 : _e_relatedTarget1.closest('input[placeholder*=\"Ask\"]');\n                                            const isSidebarClick = (_e_relatedTarget2 = e.relatedTarget) === null || _e_relatedTarget2 === void 0 ? void 0 : _e_relatedTarget2.closest(\".fixed.bg-\\\\[\\\\#aa3636\\\\]\");\n                                            const isSidebarToggleClick = (_e_relatedTarget3 = e.relatedTarget) === null || _e_relatedTarget3 === void 0 ? void 0 : _e_relatedTarget3.closest(\"button.fixed.bg-\\\\[\\\\#aa3636\\\\]\");\n                                            if (!isKeyboardClick && !isInputClick && !isSidebarClick && !isSidebarToggleClick) {\n                                                setTimeout(()=>{\n                                                    setShowKeyboard(false);\n                                                }, 100);\n                                            }\n                                        },\n                                        placeholder: \"Ask \".concat(modelKey.toUpperCase(), \"...\"),\n                                        className: \"w-full py-3 px-5 rounded-full bg-white/95 outline-none border border-gray-300 shadow-sm text-sm focus:border-[#aa3636] focus:ring-1 focus:ring-[#aa3636] transition\",\n                                        disabled: sending\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                        lineNumber: 853,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"submit\",\n                                        disabled: sending || !input.trim(),\n                                        className: \"bg-[#aa3636] text-white px-5 py-3 rounded-full text-sm shadow\",\n                                        children: \"Send\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                        lineNumber: 913,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                                lineNumber: 838,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                        lineNumber: 714,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n                lineNumber: 650,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Kai\\\\Documents\\\\Uniquery\\\\frontend\\\\pages\\\\chat.js\",\n        lineNumber: 407,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatPage, \"dGzzA4ZMXwzwLmdHEEiabdWe960=\", false, function() {\n    return [\n        next_router__WEBPACK_IMPORTED_MODULE_4__.useRouter\n    ];\n});\n_c1 = ChatPage;\nvar _c, _c1;\n$RefreshReg$(_c, \"SimpleMarkdownRenderer\");\n$RefreshReg$(_c1, \"ChatPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQUEsa0JBQWlCb0gsT0FBTyxDQUM3Qzs0Q0FFRixNQUFNRyx3QkFBdUJ2SCxvQkFBQUEsRUFBRW1ILGFBQWEsY0FBZm5ILHdDQUFBQSxrQkFBaUJvSCxPQUFPLENBQ25EOzRDQUdGLElBQ0UsQ0FBQ0YsbUJBQ0QsQ0FBQ0csZ0JBQ0QsQ0FBQ0Msa0JBQ0QsQ0FBQ0Msc0JBQ0Q7Z0RBQ0E5QyxXQUFXO29EQUNUaEgsZ0JBQWdCO2dEQUNsQixHQUFHOzRDQUNMO3dDQUNGO3dDQUNBK0osYUFBYSxPQUE4QixPQUF2QnRMLFNBQVN1TCxXQUFXLElBQUc7d0NBQzNDbE4sV0FBVTt3Q0FDVm1MLFVBQVV6STs7Ozs7O2tEQUdaLDhEQUFDMkc7d0NBQ0M4RCxNQUFLO3dDQUNMaEMsVUFBVXpJLFdBQVcsQ0FBQ0YsTUFBTXRELElBQUk7d0NBQ2hDYyxXQUFVO2tEQUNYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRYjtHQTd5QndCZTs7UUFDUGxELGtEQUFTQTs7O01BREZrRCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxLYWlcXERvY3VtZW50c1xcVW5pcXVlcnlcXGZyb250ZW5kXFxwYWdlc1xcY2hhdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBRUkNvZGVDYW52YXMgfSBmcm9tIFwicXJjb2RlLnJlYWN0XCI7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9yb3V0ZXJcIjtcbmltcG9ydCB7IGF1dGggfSBmcm9tIFwiLi4vZmlyZWJhc2UvY2xpZW50QXBwXCI7XG5pbXBvcnQgeyBvbkF1dGhTdGF0ZUNoYW5nZWQsIHNpZ25PdXQgfSBmcm9tIFwiZmlyZWJhc2UvYXV0aFwiO1xuaW1wb3J0IHRvYXN0IGZyb20gXCJyZWFjdC1ob3QtdG9hc3RcIjtcbmltcG9ydCB7XG4gIGdldENvbnZlcnNhdGlvbixcbiAgYXBwZW5kTWVzc2FnZSxcbiAgc2V0Q29udmVyc2F0aW9uLFxuICBnZXRVc2VyUHJvZmlsZSxcbn0gZnJvbSBcIi4uL2xpYi9maXJlc3RvcmVIZWxwZXJzXCI7XG5cbi8vIElNUE9SVCBWSVJUVUFMIEtFWUJPQVJEXG5pbXBvcnQgS2V5Ym9hcmQgZnJvbSBcInJlYWN0LXNpbXBsZS1rZXlib2FyZFwiO1xuaW1wb3J0IFwicmVhY3Qtc2ltcGxlLWtleWJvYXJkL2J1aWxkL2Nzcy9pbmRleC5jc3NcIjtcblxuLy8g4pyFIEZJWDogRGVmaW5lIFFXRVJUWSBrZXlib2FyZCBsYXlvdXRcbmNvbnN0IGxheW91dCA9IHtcbiAgcXdlcnR5OiB7XG4gICAgZGVmYXVsdDogW1xuICAgICAgXCIwIDEgMiAzIDQgNSA2IDcgOCA5XCIsXG4gICAgICBcInEgdyBlIHIgdCB5IHUgaSBvIHAge2JhY2tzcGFjZX1cIixcbiAgICAgIFwiYSBzIGQgZiBnIGggaiBrIGwge2VudGVyfVwiLFxuICAgICAgXCJ7c2hpZnR9IHogeCBjIHYgYiBuIG1cIixcbiAgICAgIFwie0B9IHslfSB7P30ge3NwYWNlfSB7LH0gey59XCIsXG4gICAgXSxcbiAgICBzaGlmdDogW1xuICAgICAgXCIwIDEgMiAzIDQgNSA2IDcgOCA5XCIsXG4gICAgICBcIlEgVyBFIFIgVCBZIFUgSSBPIFAge2JhY2tzcGFjZX1cIixcbiAgICAgIFwiQSBTIEQgRiBHIEggSiBLIEwge2VudGVyfVwiLFxuICAgICAgXCJ7c2hpZnR9IFogWCBDIFYgQiBOIE1cIixcbiAgICAgIFwie0B9IHslfSB7P30ge3NwYWNlfSB7LH0gey59XCIsXG4gICAgXSxcbiAgfSxcbn07XG5cbi8vIFNpbXBsZSBtYXJrZG93biByZW5kZXJlciB3aXRob3V0IGV4dGVybmFsIGRlcGVuZGVuY2llc1xuZnVuY3Rpb24gU2ltcGxlTWFya2Rvd25SZW5kZXJlcih7IHRleHQgfSkge1xuICBpZiAoIXRleHQpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IGxpbmVzID0gdGV4dC5zcGxpdChcIlxcblwiKTtcbiAgcmV0dXJuIGxpbmVzLm1hcCgobGluZSwgaW5kZXgpID0+IHtcbiAgICBpZiAobGluZS50cmltKCkgPT09IFwiXCIpIHJldHVybiA8YnIga2V5PXtpbmRleH0gLz47XG5cbiAgICBsZXQgY29udGVudCA9IGxpbmU7XG4gICAgY29uc3QgYm9sZFJlZ2V4ID0gL1xcKlxcKiguKj8pXFwqXFwqL2c7XG4gICAgY29uc3QgcGFydHMgPSBbXTtcbiAgICBsZXQgbGFzdEluZGV4ID0gMDtcbiAgICBsZXQgbWF0Y2g7XG5cbiAgICB3aGlsZSAoKG1hdGNoID0gYm9sZFJlZ2V4LmV4ZWMoY29udGVudCkpICE9PSBudWxsKSB7XG4gICAgICBpZiAobWF0Y2guaW5kZXggPiBsYXN0SW5kZXgpIHtcbiAgICAgICAgcGFydHMucHVzaChcbiAgICAgICAgICA8c3BhbiBrZXk9e2Ake2luZGV4fS0ke2xhc3RJbmRleH1gfT5cbiAgICAgICAgICAgIHtjb250ZW50LnN1YnN0cmluZyhsYXN0SW5kZXgsIG1hdGNoLmluZGV4KX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBwYXJ0cy5wdXNoKFxuICAgICAgICA8c3Ryb25nIGtleT17YCR7aW5kZXh9LWJvbGQtJHttYXRjaC5pbmRleH1gfT57bWF0Y2hbMV19PC9zdHJvbmc+XG4gICAgICApO1xuICAgICAgbGFzdEluZGV4ID0gbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGg7XG4gICAgfVxuXG4gICAgaWYgKGxhc3RJbmRleCA8IGNvbnRlbnQubGVuZ3RoKSB7XG4gICAgICBwYXJ0cy5wdXNoKFxuICAgICAgICA8c3BhbiBrZXk9e2Ake2luZGV4fS1yZW1haW5pbmdgfT57Y29udGVudC5zdWJzdHJpbmcobGFzdEluZGV4KX08L3NwYW4+XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHBhcnRzLnB1c2goPHNwYW4ga2V5PXtgJHtpbmRleH0tcGxhaW5gfT57Y29udGVudH08L3NwYW4+KTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJtYi0xIGxhc3Q6bWItMFwiPlxuICAgICAgICB7cGFydHN9XG4gICAgICAgIHtpbmRleCA8IGxpbmVzLmxlbmd0aCAtIDEgJiYgPGJyIC8+fVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEFJUmVzcG9uc2UodGV4dCkge1xuICBpZiAoIXRleHQpIHJldHVybiBcIlwiO1xuICBsZXQgY2xlYW5lZCA9IHRleHQudHJpbSgpO1xuXG4gIGlmIChjbGVhbmVkLnN0YXJ0c1dpdGgoXCJ7XCIpICYmIGNsZWFuZWQuZW5kc1dpdGgoXCJ9XCIpKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKGNsZWFuZWQpO1xuICAgICAgY2xlYW5lZCA9XG4gICAgICAgIGpzb24uZ2VuZXJhdGVkX3RleHQgfHxcbiAgICAgICAganNvbi5yZXNwb25zZSB8fFxuICAgICAgICBqc29uLmFuc3dlciB8fFxuICAgICAgICBqc29uLm91dHB1dCB8fFxuICAgICAgICBqc29uLnRleHQgfHxcbiAgICAgICAganNvbi5tZXNzYWdlIHx8XG4gICAgICAgIEpTT04uc3RyaW5naWZ5KGpzb24pO1xuICAgIH0gY2F0Y2gge31cbiAgfVxuXG4gIGNsZWFuZWQgPSBjbGVhbmVkLnJlcGxhY2UoL15cInxcIiQvZywgXCJcIik7XG4gIGNsZWFuZWQgPSBjbGVhbmVkLnJlcGxhY2UoL1xcXFxuL2csIFwiXFxuXCIpO1xuICBjbGVhbmVkID0gY2xlYW5lZC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJyk7XG4gIGNsZWFuZWQgPSBjbGVhbmVkLnJlcGxhY2UoL1xcXFx0L2csIFwiICBcIik7XG5cbiAgcmV0dXJuIGNsZWFuZWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoYXRQYWdlKCkge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgeyBtb2RlbCwgcHVibGljOiBpc1B1YmxpYyB9ID0gcm91dGVyLnF1ZXJ5O1xuXG4gIGNvbnN0IG1vZGVsQ29uZmlncyA9IHtcbiAgICBlY2U6IHsgdXJsOiBcImh0dHBzOi8vdGl5dXBpLWVjZS1lY2UtYXBpLmhmLnNwYWNlL2dlbmVyYXRlXCIsIHRva2VuOiBcIlwiIH0sXG4gICAgbmF2OiB7IHVybDogXCJodHRwczovL3RpeXVwaS1lY2Utc29taS1jYWxpLmhmLnNwYWNlL2NoYXRcIiwgdG9rZW46IFwiXCIgfSxcbiAgICBpbmZvOiB7IHVybDogXCJodHRwczovL3RpeXVwaS1lY2UtaGl0dXBpLmhmLnNwYWNlL2NoYXRcIiwgdG9rZW46IFwiXCIgfSxcbiAgfTtcblxuICBjb25zdCBtb2RlbEtleSA9IG1vZGVsIHx8IFwiZWNlXCI7XG4gIGNvbnN0IHNlbGVjdGVkTW9kZWwgPSBtb2RlbENvbmZpZ3NbbW9kZWxLZXldIHx8IHt9O1xuICBjb25zdCBpc1B1YmxpY0FjY2VzcyA9IGlzUHVibGljID09PSBcInRydWVcIjtcblxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtuaWNrbmFtZSwgc2V0Tmlja25hbWVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtyZWFsTmFtZSwgc2V0UmVhbE5hbWVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbaW5wdXQsIHNldElucHV0XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbc2VuZGluZywgc2V0U2VuZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaGlmdEFjdGl2ZSwgc2V0U2hpZnRBY3RpdmVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBlbmRSZWYgPSB1c2VSZWYoKTtcblxuICBjb25zdCBbc2lkZWJhck9wZW4sIHNldFNpZGViYXJPcGVuXSA9IHVzZVN0YXRlKHRydWUpO1xuXG4gIC8vIFZJUlRVQUwgS0VZQk9BUkQgU1RBVEVcbiAgY29uc3QgW3Nob3dLZXlib2FyZCwgc2V0U2hvd0tleWJvYXJkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3Qga2V5Ym9hcmRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGxhc3RTY3JvbGxUb3BSZWYgPSB1c2VSZWYoMCk7XG4gIGNvbnN0IGtleWJvYXJkU2Nyb2xsVGhyZXNob2xkID0gMjA7XG4gIGNvbnN0IGNoYXRDb250YWluZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGlucHV0QmFyUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBrZXlib2FyZElucHV0UmVmID0gdXNlUmVmKFwiXCIpO1xuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgY2FyZXRQb3NpdGlvblJlZiA9IHVzZVJlZigwKTtcblxuICAvLyDinIUgU0hBUkUgLyBRUiBTVEFURSAoYWRkZWQpXG4gIGNvbnN0IFtzaGFyZUlkLCBzZXRTaGFyZUlkXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbc2hhcmVPcGVuLCBzZXRTaGFyZU9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8qIEFVVEggKi9cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1bnN1YiA9IG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCBhc3luYyAodSkgPT4ge1xuICAgICAgaWYgKGlzUHVibGljQWNjZXNzICYmICF1KSB7XG4gICAgICAgIHNldFVzZXIobnVsbCk7XG4gICAgICAgIHNldE5pY2tuYW1lKFwiR3Vlc3RcIik7XG4gICAgICAgIHNldFJlYWxOYW1lKFwiR3Vlc3RcIik7XG4gICAgICAgIHNldE1lc3NhZ2VzKFtdKTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc1B1YmxpY0FjY2VzcyAmJiAhdSkge1xuICAgICAgICByb3V0ZXIucmVwbGFjZShcIi9sb2dpblwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZXRVc2VyKHUpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBpZiAodSkge1xuICAgICAgICAgIGNvbnN0IHByb2ZpbGUgPSBhd2FpdCBnZXRVc2VyUHJvZmlsZSh1LnVpZCk7XG4gICAgICAgICAgY29uc3QgbmFtZSA9XG4gICAgICAgICAgICBwcm9maWxlPy5uYW1lIHx8XG4gICAgICAgICAgICB1LmRpc3BsYXlOYW1lIHx8XG4gICAgICAgICAgICBwcm9maWxlPy5uaWNrbmFtZSB8fFxuICAgICAgICAgICAgdS5lbWFpbD8uc3BsaXQoXCJAXCIpWzBdIHx8XG4gICAgICAgICAgICBcIlVzZXJcIjtcbiAgICAgICAgICBzZXRSZWFsTmFtZShuYW1lKTtcblxuICAgICAgICAgIGNvbnN0IG5pY2sgPVxuICAgICAgICAgICAgcHJvZmlsZT8ubmlja25hbWUgfHxcbiAgICAgICAgICAgIHByb2ZpbGU/Lm5hbWUgfHxcbiAgICAgICAgICAgIHUuZGlzcGxheU5hbWUgfHxcbiAgICAgICAgICAgIHUuZW1haWw/LnNwbGl0KFwiQFwiKVswXSB8fFxuICAgICAgICAgICAgXCJVc2VyXCI7XG4gICAgICAgICAgc2V0Tmlja25hbWUobmljayk7XG5cbiAgICAgICAgICBjb25zdCBjb252ID0gYXdhaXQgZ2V0Q29udmVyc2F0aW9uKHUudWlkLCBtb2RlbEtleSk7XG4gICAgICAgICAgc2V0TWVzc2FnZXMoY29udj8ubWVzc2FnZXMgfHwgW10pO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHt9XG5cbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuICgpID0+IHVuc3ViKCk7XG4gIH0sIFtyb3V0ZXIsIG1vZGVsS2V5LCBpc1B1YmxpY0FjY2Vzc10pO1xuXG4gIC8vIEdldCByZWZlcmVuY2VzIG9uIG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY2hhdENvbnRhaW5lclJlZi5jdXJyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLmFic29sdXRlLmluc2V0LTAucHgtNi5vdmVyZmxvdy15LWF1dG8uZmxleC5mbGV4LWNvbFwiXG4gICAgKTtcbiAgICBpbnB1dEJhclJlZi5jdXJyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImZvcm0uZml4ZWQubGVmdC0wLnotNTBcIik7XG4gIH0sIFtdKTtcblxuICAvLyBIYW5kbGUgc2Nyb2xsIHRvIGF1dG8taGlkZSBrZXlib2FyZFxuICBjb25zdCBoYW5kbGVTY3JvbGwgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKCFzaG93S2V5Ym9hcmQpIHJldHVybjtcblxuICAgIGNvbnN0IGNoYXRDb250YWluZXIgPSBjaGF0Q29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFjaGF0Q29udGFpbmVyKSByZXR1cm47XG5cbiAgICBjb25zdCBjdXJyZW50U2Nyb2xsVG9wID0gY2hhdENvbnRhaW5lci5zY3JvbGxUb3A7XG4gICAgY29uc3Qgc2Nyb2xsRGlmZiA9IE1hdGguYWJzKGN1cnJlbnRTY3JvbGxUb3AgLSBsYXN0U2Nyb2xsVG9wUmVmLmN1cnJlbnQpO1xuXG4gICAgaWYgKHNjcm9sbERpZmYgPiBrZXlib2FyZFNjcm9sbFRocmVzaG9sZCkge1xuICAgICAgc2V0U2hvd0tleWJvYXJkKGZhbHNlKTtcbiAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3BsYWNlaG9sZGVyKj1cIkFza1wiXScpO1xuICAgICAgaWYgKGlucHV0RWxlbWVudCkgaW5wdXRFbGVtZW50LmJsdXIoKTtcbiAgICB9XG5cbiAgICBsYXN0U2Nyb2xsVG9wUmVmLmN1cnJlbnQgPSBjdXJyZW50U2Nyb2xsVG9wO1xuICB9LCBbc2hvd0tleWJvYXJkXSk7XG5cbiAgLy8gQXR0YWNoIHNjcm9sbCBldmVudCBsaXN0ZW5lclxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNoYXRDb250YWluZXIgPSBjaGF0Q29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFjaGF0Q29udGFpbmVyKSByZXR1cm47XG5cbiAgICBjaGF0Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlU2Nyb2xsKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2hhdENvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZVNjcm9sbCk7XG4gICAgfTtcbiAgfSwgW2hhbmRsZVNjcm9sbF0pO1xuXG4gIC8vIFJlc2V0IHNjcm9sbCB0cmFja2luZyB3aGVuIGtleWJvYXJkIHNob3dzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNob3dLZXlib2FyZCAmJiBjaGF0Q29udGFpbmVyUmVmLmN1cnJlbnQpIHtcbiAgICAgIGxhc3RTY3JvbGxUb3BSZWYuY3VycmVudCA9IGNoYXRDb250YWluZXJSZWYuY3VycmVudC5zY3JvbGxUb3A7XG4gICAgfVxuICB9LCBbc2hvd0tleWJvYXJkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBlbmRSZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogXCJzbW9vdGhcIiB9KTtcbiAgfSwgW21lc3NhZ2VzXSk7XG5cbiAgLyogU0VORCBNRVNTQUdFICovXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVNlbmQoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB0cmltbWVkID0gaW5wdXQudHJpbSgpO1xuICAgIGlmICghdHJpbW1lZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgdXNlck1zZyA9IHsgcm9sZTogXCJ1c2VyXCIsIGNvbnRlbnQ6IHRyaW1tZWQgfTtcbiAgICBjb25zdCB1cGRhdGVkTWVzc2FnZXMgPSBbLi4ubWVzc2FnZXMsIHVzZXJNc2ddO1xuICAgIHNldE1lc3NhZ2VzKHVwZGF0ZWRNZXNzYWdlcyk7XG4gICAgc2V0SW5wdXQoXCJcIik7XG4gICAgc2V0U2VuZGluZyh0cnVlKTtcbiAgICBzZXRTaG93S2V5Ym9hcmQoZmFsc2UpO1xuICAgIGtleWJvYXJkSW5wdXRSZWYuY3VycmVudCA9IFwiXCI7XG5cbiAgICB0b2FzdC5sb2FkaW5nKFwiU2VuZGluZy4uLlwiLCB7IGlkOiBcInNlbmRcIiB9KTtcblxuICAgIHRyeSB7XG4gICAgICBpZiAodXNlciAmJiAhaXNQdWJsaWNBY2Nlc3MpXG4gICAgICAgIGF3YWl0IGFwcGVuZE1lc3NhZ2UodXNlci51aWQsIG1vZGVsS2V5LCB1c2VyTXNnKTtcblxuICAgICAgaWYgKCFzZWxlY3RlZE1vZGVsLnVybCkge1xuICAgICAgICBjb25zdCBlcnJvck1zZyA9IHsgcm9sZTogXCJhc3Npc3RhbnRcIiwgY29udGVudDogXCJNb2RlbCB1bmF2YWlsYWJsZS5cIiB9O1xuICAgICAgICBzZXRNZXNzYWdlcyhbLi4udXBkYXRlZE1lc3NhZ2VzLCBlcnJvck1zZ10pO1xuICAgICAgICBpZiAodXNlciAmJiAhaXNQdWJsaWNBY2Nlc3MpXG4gICAgICAgICAgYXdhaXQgYXBwZW5kTWVzc2FnZSh1c2VyLnVpZCwgbW9kZWxLZXksIGVycm9yTXNnKTtcbiAgICAgICAgdG9hc3QuZGlzbWlzcyhcInNlbmRcIik7XG4gICAgICAgIHNldFNlbmRpbmcoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zID0ge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXF1ZXN0Rm9ybWF0cyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlucHV0czogdHJpbW1lZCxcbiAgICAgICAgICBwYXJhbWV0ZXJzOiB7IG1heF9uZXdfdG9rZW5zOiA1MDAsIHRlbXBlcmF0dXJlOiAwLjcgfSxcbiAgICAgICAgfSxcbiAgICAgICAgeyBxdWVyeTogdHJpbW1lZCwgbWF4X25ld190b2tlbnM6IDUwMCwgdGVtcGVyYXR1cmU6IDAuNyB9LFxuICAgICAgICB7IGlucHV0OiB0cmltbWVkLCBtYXhfbGVuZ3RoOiA1MDAsIHRlbXBlcmF0dXJlOiAwLjcgfSxcbiAgICAgIF07XG5cbiAgICAgIGxldCByZXBseSA9IFwiXCI7XG4gICAgICBsZXQgbGFzdEVycm9yID0gbnVsbDtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXF1ZXN0Rm9ybWF0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJlcXVlc3RPcHRpb25zLmJvZHkgPSBKU09OLnN0cmluZ2lmeShyZXF1ZXN0Rm9ybWF0c1tpXSk7XG4gICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goc2VsZWN0ZWRNb2RlbC51cmwsIHJlcXVlc3RPcHRpb25zKTtcblxuICAgICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXMuc3RhdHVzfWApO1xuXG4gICAgICAgICAgY29uc3QgcmF3ID0gYXdhaXQgcmVzLnRleHQoKTtcbiAgICAgICAgICByZXBseSA9IGZvcm1hdEFJUmVzcG9uc2UocmF3KTtcblxuICAgICAgICAgIGlmIChyZXBseSAmJiByZXBseSAhPT0gXCJ7fVwiKSBicmVhaztcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgbGFzdEVycm9yID0gZXJyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghcmVwbHkgJiYgbGFzdEVycm9yKSB0aHJvdyBsYXN0RXJyb3I7XG4gICAgICBpZiAoIXJlcGx5KSB0aHJvdyBuZXcgRXJyb3IoXCJObyByZXNwb25zZVwiKTtcblxuICAgICAgcmVwbHkgPSByZXBseS50cmltKCk7XG4gICAgICBjb25zdCBhaU1zZyA9IHsgcm9sZTogXCJhc3Npc3RhbnRcIiwgY29udGVudDogcmVwbHkgfTtcbiAgICAgIHNldE1lc3NhZ2VzKFsuLi51cGRhdGVkTWVzc2FnZXMsIGFpTXNnXSk7XG5cbiAgICAgIGlmICh1c2VyICYmICFpc1B1YmxpY0FjY2VzcylcbiAgICAgICAgYXdhaXQgYXBwZW5kTWVzc2FnZSh1c2VyLnVpZCwgbW9kZWxLZXksIGFpTXNnKTtcblxuICAgICAgdG9hc3Quc3VjY2VzcyhcIlJlcGx5IHJlY2VpdmVkXCIsIHsgaWQ6IFwic2VuZFwiIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc3QgZXJyb3JNc2cgPSB7XG4gICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgIGNvbnRlbnQ6IGAqKkVycm9yOioqICR7ZXJyLm1lc3NhZ2V9YCxcbiAgICAgIH07XG4gICAgICBzZXRNZXNzYWdlcyhbLi4ubWVzc2FnZXMsIHVzZXJNc2csIGVycm9yTXNnXSk7XG4gICAgICB0b2FzdC5lcnJvcihcIlNlbmQgZmFpbGVkXCIsIHsgaWQ6IFwic2VuZFwiIH0pO1xuICAgIH1cblxuICAgIHNldFNlbmRpbmcoZmFsc2UpO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlTmV3Q2hhdCgpIHtcbiAgICBpZiAodXNlciAmJiAhaXNQdWJsaWNBY2Nlc3MpIGF3YWl0IHNldENvbnZlcnNhdGlvbih1c2VyLnVpZCwgbW9kZWxLZXksIFtdKTtcbiAgICBzZXRNZXNzYWdlcyhbXSk7XG4gICAgLy8g4pyFIHJlc2V0IHNoYXJlIHN0YXRlIHRvbyAoYWRkZWQpXG4gICAgc2V0U2hhcmVJZChudWxsKTtcbiAgICBzZXRTaGFyZU9wZW4oZmFsc2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlU2lnbk91dCgpIHtcbiAgICBzaWduT3V0KGF1dGgpLnRoZW4oKCkgPT4gcm91dGVyLnB1c2goXCIvbG9naW5cIikpO1xuICB9XG5cbiAgLy8gTkVXOiBIYW5kbGUgc2lnbiBpbiByZWRpcmVjdFxuICBmdW5jdGlvbiBoYW5kbGVTaWduSW4oKSB7XG4gICAgcm91dGVyLnB1c2goXCIvbG9naW5cIik7XG4gIH1cblxuICAvLyDinIUgR2VuZXJhdGUgUVIgKGFkZGVkKVxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVHZW5lcmF0ZVFSKCkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIW1lc3NhZ2VzIHx8IG1lc3NhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0b2FzdC5lcnJvcihcIk5vIGNvbnZlcnNhdGlvbiB0byBzaGFyZSB5ZXQuXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRvYXN0LmxvYWRpbmcoXCJHZW5lcmF0aW5nIFFSLi4uXCIsIHsgaWQ6IFwic2hhcmVcIiB9KTtcblxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCIvYXBpL3NoYXJlXCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgbW9kZWxLZXksXG4gICAgICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlcy5tYXAoKG0pID0+ICh7IHJvbGU6IG0ucm9sZSwgY29udGVudDogbS5jb250ZW50IH0pKSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgIGlmICghZGF0YT8uaWQpIHRocm93IG5ldyBFcnJvcihcIk5vIHNoYXJlIGlkIHJldHVybmVkLlwiKTtcblxuICAgICAgc2V0U2hhcmVJZChkYXRhLmlkKTtcbiAgICAgIHNldFNoYXJlT3Blbih0cnVlKTtcblxuICAgICAgdG9hc3Quc3VjY2VzcyhcIlFSIHJlYWR5IVwiLCB7IGlkOiBcInNoYXJlXCIgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdG9hc3QuZXJyb3IoYEZhaWxlZDogJHtlLm1lc3NhZ2V9YCwgeyBpZDogXCJzaGFyZVwiIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChsb2FkaW5nKVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtc2NyZWVuIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQteGxcIj5cbiAgICAgICAgTG9hZGluZ+KAplxuICAgICAgPC9kaXY+XG4gICAgKTtcblxuICBjb25zdCBoZWFkZXJIZWlnaHQgPSA0ODtcbiAgY29uc3QgZm9vdGVySGVpZ2h0ID0gMzI7XG4gIGNvbnN0IHNpZGViYXJXaWR0aCA9IDIyNDtcbiAgY29uc3Qga2V5Ym9hcmRIZWlnaHQgPSAyODA7XG4gIGNvbnN0IGlucHV0QmFySGVpZ2h0ID0gNjA7XG4gIGNvbnN0IGtleWJvYXJkUGFkZGluZyA9IDQ7IC8vIFJFRFVDRUQgRlJPTSA4IFRPIDRcblxuICBjb25zdCBzaGFyZVVybCA9XG4gICAgc2hhcmVJZCAmJiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICA/IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L3NoYXJlLyR7c2hhcmVJZH1gXG4gICAgICA6IFwiXCI7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9XCJyZWxhdGl2ZSBoLXNjcmVlbiB3LXNjcmVlbiBvdmVyZmxvdy1oaWRkZW4gYmctY292ZXIgYmctY2VudGVyXCJcbiAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRJbWFnZTogXCJ1cmwoJy9iZy5wbmcnKVwiIH19XG4gICAgPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGJnLVtyZ2JhKDI0NSwyNDUsMjQ1LDAuMTgpXSBiYWNrZHJvcC1ibHVyLXNtXCIgLz5cblxuICAgICAgey8qIEhFQURFUiAqL31cbiAgICAgIDxoZWFkZXJcbiAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgdG9wLTAgbGVmdC0wIHJpZ2h0LTAgei01MCBiZy1ibGFjay8zMCB0ZXh0LXdoaXRlIHB5LTEuNSBweC00IGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBzaGFkb3ctc21cIlxuICAgICAgICBzdHlsZT17eyBoZWlnaHQ6IGAke2hlYWRlckhlaWdodH1weGAgfX1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxpbWcgc3JjPVwiL3R1cGxvZ28ucG5nXCIgYWx0PVwiVFVQIExvZ29cIiBjbGFzc05hbWU9XCJoLTcgdy03XCIgLz5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC14cyBtZDp0ZXh0LXNtIGZvbnQtYm9sZFwiPlxuICAgICAgICAgICAgVEVDSE5PTE9HSUNBTCBVTklWRVJTSVRZIE9GIFRIRSBQSElMSVBQSU5FU1xuICAgICAgICAgIDwvaDE+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBTaWduIEluL091dCBzdGF5cyBpbiBoZWFkZXIgKHVuY2hhbmdlZCkgKi99XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXt1c2VyID8gaGFuZGxlU2lnbk91dCA6IGhhbmRsZVNpZ25Jbn1cbiAgICAgICAgICBjbGFzc05hbWU9XCJiZy1bI2ZhYTAyOV0gdGV4dC1ibGFjayBmb250LXNlbWlib2xkIHB4LTUgcHktMiByb3VuZGVkLWZ1bGwgc2hhZG93XCJcbiAgICAgICAgPlxuICAgICAgICAgIHt1c2VyID8gXCJTaWduIE91dFwiIDogXCJTaWduIEluXCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9oZWFkZXI+XG5cbiAgICAgIHsvKiBGT09URVIgKi99XG4gICAgICA8Zm9vdGVyXG4gICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIGJvdHRvbS0wIGxlZnQtMCByaWdodC0wIHotNTAgYmctYmxhY2svMzAgdGV4dC1jZW50ZXIgcHktMSB0ZXh0LXdoaXRlIHRleHQteHNcIlxuICAgICAgICBzdHlsZT17eyBoZWlnaHQ6IGAke2Zvb3RlckhlaWdodH1weGAgfX1cbiAgICAgID5cbiAgICAgICAgRGVzaWduZWQgYnk6IEVsZWN0cm9uaWNzIEVuZ2luZWVyaW5nIERlcGFydG1lbnRcbiAgICAgIDwvZm9vdGVyPlxuXG4gICAgICB7LyogU0VQQVJBVEUgS0VZQk9BUkQgQ09OVEFJTkVSIC0gQURKVVNURUQgUE9TSVRJT04gKi99XG4gICAgICB7c2hvd0tleWJvYXJkICYmIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIGxlZnQtMCByaWdodC0wIGJnLXdoaXRlIHNoYWRvdy0yeGwgYm9yZGVyLXQgYm9yZGVyLWdyYXktMzAwXCJcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgYm90dG9tOiBgJHtmb290ZXJIZWlnaHQgKyA0fXB4YCxcbiAgICAgICAgICAgIGxlZnQ6IHNpZGViYXJPcGVuID8gYCR7c2lkZWJhcldpZHRofXB4YCA6IFwiMHB4XCIsXG4gICAgICAgICAgICBoZWlnaHQ6IGAke2tleWJvYXJkSGVpZ2h0fXB4YCxcbiAgICAgICAgICAgIHpJbmRleDogNTUsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWVuZCBwLTEgYmctZ3JheS0xMDBcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFNob3dLZXlib2FyZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgICAgICdpbnB1dFtwbGFjZWhvbGRlcio9XCJBc2tcIl0nXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXRFbGVtZW50KSBpbnB1dEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBob3Zlcjp0ZXh0LWdyYXktODAwIHB4LTIgcHktMSByb3VuZGVkIHRleHQteHNcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBDbG9zZSBLZXlib2FyZFxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8S2V5Ym9hcmRcbiAgICAgICAgICBrZXlib2FyZFJlZj17KHIpID0+IHtcbiAgICAgICAgICAgIGtleWJvYXJkUmVmLmN1cnJlbnQgPSByO1xuICAgICAgICAgICAgaWYgKHIpIHIuc2V0SW5wdXQoaW5wdXQpO1xuICAgICAgICAgIH19XG4gICAgICAgICAgaW5wdXQ9e2lucHV0fVxuICAgICAgICAgIGxheW91dE5hbWU9e3NoaWZ0QWN0aXZlID8gXCJzaGlmdFwiIDogXCJkZWZhdWx0XCJ9XG4gICAgICAgICAgbGF5b3V0PXtsYXlvdXQucXdlcnR5fVxuICAgICAgICAgIG9uQ2hhbmdlPXsobmV3SW5wdXQpID0+IHtcbiAgICAgICAgICAgIHNldElucHV0KG5ld0lucHV0KTtcbiAgICAgICAgICB9fVxuICAgICAgICAgIG9uS2V5UHJlc3M9eyhidXR0b24pID0+IHtcbiAgICAgICAgICAgIGlmIChidXR0b24gPT09IFwie3NoaWZ0fVwiKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld1NoaWZ0U3RhdGUgPSAhc2hpZnRBY3RpdmU7XG4gICAgICAgICAgICAgIHNldFNoaWZ0QWN0aXZlKG5ld1NoaWZ0U3RhdGUpO1xuICAgICAgICAgICAgICAvLyBrZWVwIGtleWJvYXJkIGxheW91dCBpbiBzeW5jXG5cbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAga2V5Ym9hcmRSZWYuY3VycmVudD8uc2V0T3B0aW9ucyh7XG4gICAgICAgICAgICAgICAgICBsYXlvdXROYW1lOiBuZXdTaGlmdFN0YXRlID8gXCJzaGlmdFwiIDogXCJkZWZhdWx0XCIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJ1dHRvbiA9PT0gXCJ7ZW50ZXJ9XCIpIHtcbiAgICAgICAgICAgICAgaGFuZGxlU2VuZCh7IHByZXZlbnREZWZhdWx0OiAoKSA9PiB7fSB9KTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH19XG4gICAgICAgICAgdGhlbWU9XCJoZy10aGVtZS1kZWZhdWx0IGhnLXRoZW1lLWN1c3RvbVwiXG4gICAgICAgICAgZGlzcGxheT17e1xuICAgICAgICAgICAgXCJ7YmFja3NwYWNlfVwiOiBcIuKMq1wiLFxuICAgICAgICAgICAgXCJ7ZW50ZXJ9XCI6IFwi4oa1XCIsXG4gICAgICAgICAgICBcIntzaGlmdH1cIjogXCLih6dcIixcbiAgICAgICAgICAgIFwie3NwYWNlfVwiOiBcIlNwYWNlXCIsXG4gICAgICAgICAgICBcIntAfVwiOiBcIkBcIixcbiAgICAgICAgICAgIFwieyV9XCI6IFwiJVwiLFxuICAgICAgICAgICAgXCJ7P31cIjogXCI/XCIsXG4gICAgICAgICAgICBcInssfVwiOiBcIixcIixcbiAgICAgICAgICAgIFwiey59XCI6IFwiLlwiLFxuICAgICAgICAgIH19XG4gICAgICAgICAgcHJldmVudE1vdXNlRG93bkRlZmF1bHQ9e3RydWV9XG4gICAgICAgICAgcHJldmVudE1vdXNlVXBEZWZhdWx0PXt0cnVlfVxuICAgICAgICAgIHN5bmNJbnN0YW5jZUlucHV0cz17dHJ1ZX1cbiAgICAgICAgICBtZXJnZURpc3BsYXk9e3RydWV9XG4gICAgICAgICAgbmV3TGluZU9uRW50ZXI9e2ZhbHNlfVxuICAgICAgICAgIGF1dG9Vc2VUb3VjaEV2ZW50cz17dHJ1ZX1cbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgey8qIHlvdXIgZXhpc3Rpbmcga2V5Ym9hcmQgc3R5bGVzIHJlbWFpbiB1bmNoYW5nZWQgKi99XG4gICAgICAgICAgPHN0eWxlIGpzeCBnbG9iYWw+e2BcbiAgICAgICAgICAgIC5zaW1wbGUta2V5Ym9hcmQge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIGhlaWdodDogY2FsYygxMDAlIC0gMzBweCkgIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmhnLXRoZW1lLWN1c3RvbSB7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIGhlaWdodDogMTAwJSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW4gIWltcG9ydGFudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5oZy1idXR0b24ge1xuICAgICAgICAgICAgICBoZWlnaHQ6IDQ1cHggIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDAgIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMTUpICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIG1hcmdpbjogM3B4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXggIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlciAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlciAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4xcyBlYXNlICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIG1pbi13aWR0aDogMCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICBmbGV4OiAxICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuaGctcm93Om50aC1jaGlsZCgxKSAuaGctYnV0dG9uIHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogI2Y4ZjlmYSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICBjb2xvcjogIzMzMyAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuaGctcm93Om50aC1jaGlsZCgyKVxuICAgICAgICAgICAgICAuaGctYnV0dG9uOm5vdCguaGctYnV0dG9uLWJhY2tzcGFjZSk6bm90KC5oZy1idXR0b24tZW50ZXIpLFxuICAgICAgICAgICAgLmhnLXJvdzpudGgtY2hpbGQoMykgLmhnLWJ1dHRvbjpub3QoLmhnLWJ1dHRvbi1lbnRlciksXG4gICAgICAgICAgICAuaGctcm93Om50aC1jaGlsZCg0KSAuaGctYnV0dG9uOm5vdCguaGctYnV0dG9uLXNoaWZ0KSB7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6ICNhYTM2MzYgIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICM4YTJjMmMgIWltcG9ydGFudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5oZy1yb3c6bnRoLWNoaWxkKDUpIC5oZy1idXR0b24ge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmFhMDI5ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIGNvbG9yOiBibGFjayAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZDg4YzIwICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuaGctYnV0dG9uLXNoaWZ0LFxuICAgICAgICAgICAgLmhnLWJ1dHRvbi1iYWNrc3BhY2UsXG4gICAgICAgICAgICAuaGctYnV0dG9uLWVudGVyIHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZhYTAyOSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICBjb2xvcjogYmxhY2sgIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2Q4OGMyMCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmhnLWJ1dHRvbi1zcGFjZSB7XG4gICAgICAgICAgICAgIGZsZXgtZ3JvdzogMyAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICBtYXgtd2lkdGg6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5oZy1idXR0b24tYmFja3NwYWNlLFxuICAgICAgICAgICAgLmhnLWJ1dHRvbi1lbnRlcixcbiAgICAgICAgICAgIC5oZy1idXR0b24tc2hpZnQge1xuICAgICAgICAgICAgICBtaW4td2lkdGg6IDcwcHggIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgZmxleC1ncm93OiAwLjUgIWltcG9ydGFudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5oZy1idXR0b24tXFxcXHtAXFxcXH0sXG4gICAgICAgICAgICAuaGctYnV0dG9uLVxcXFx7JVxcXFx9LFxuICAgICAgICAgICAgLmhnLWJ1dHRvbi1cXFxce1xcXFw/XFxcXH0sXG4gICAgICAgICAgICAuaGctYnV0dG9uLVxcXFx7XFxcXCxcXFxcfSxcbiAgICAgICAgICAgIC5oZy1idXR0b24tXFxcXHtcXFxcLlxcXFx9IHtcbiAgICAgICAgICAgICAgbWluLXdpZHRoOiAzNXB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIGZsZXgtZ3JvdzogMC4zICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuaGctYnV0dG9uOmFjdGl2ZSxcbiAgICAgICAgICAgIC5oZy1idXR0b24uaGctYWN0aXZlQnRuIHtcbiAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDJweCkgIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAxcHggMnB4IHJnYmEoMCwgMCwgMCwgMC4xKSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmhnLXJvdzpudGgtY2hpbGQoMilcbiAgICAgICAgICAgICAgLmhnLWJ1dHRvbjphY3RpdmU6bm90KC5oZy1idXR0b24tYmFja3NwYWNlKTpub3QoLmhnLWJ1dHRvbi1lbnRlciksXG4gICAgICAgICAgICAuaGctcm93Om50aC1jaGlsZCgzKSAuaGctYnV0dG9uOmFjdGl2ZTpub3QoLmhnLWJ1dHRvbi1lbnRlciksXG4gICAgICAgICAgICAuaGctcm93Om50aC1jaGlsZCg0KSAuaGctYnV0dG9uOmFjdGl2ZTpub3QoLmhnLWJ1dHRvbi1zaGlmdCkge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjOGEyYzJjICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuaGctYnV0dG9uLXNoaWZ0OmFjdGl2ZSxcbiAgICAgICAgICAgIC5oZy1idXR0b24tYmFja3NwYWNlOmFjdGl2ZSxcbiAgICAgICAgICAgIC5oZy1idXR0b24tZW50ZXI6YWN0aXZlLFxuICAgICAgICAgICAgLmhnLXJvdzpudGgtY2hpbGQoNSkgLmhnLWJ1dHRvbjphY3RpdmUsXG4gICAgICAgICAgICAuaGctYnV0dG9uLXNoaWZ0LmhnLWFjdGl2ZUJ0biB7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6ICNkODhjMjAgIWltcG9ydGFudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5oZy1yb3dzIHtcbiAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXggIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbiAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW4gIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgcGFkZGluZzogMCA4cHggIWltcG9ydGFudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5oZy1yb3cge1xuICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIGZsZXg6IDEgIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgbWluLWhlaWdodDogNDhweCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA1cHggIWltcG9ydGFudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5oZy1idXR0b24tc3RhbmRhcmQge1xuICAgICAgICAgICAgICBtaW4td2lkdGg6IDM1cHggIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgZmxleDogMSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICBtYXgtd2lkdGg6IDUwcHggIWltcG9ydGFudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5oZy1yb3c6bGFzdC1jaGlsZCB7XG4gICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDAgIWltcG9ydGFudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5oZy1idXR0b24tYmFja3NwYWNlIHtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuaGctYnV0dG9uLWVudGVyIHtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuc2ltcGxlLWtleWJvYXJkLmhnLWxheW91dC1kZWZhdWx0IC5oZy1yb3cge1xuICAgICAgICAgICAgICBmbGV4LXdyYXA6IG5vd3JhcCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmhnLWJ1dHRvbiBzcGFuIHtcbiAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgYH08L3N0eWxlPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBNQUlOICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtZnVsbCByZWxhdGl2ZSB6LTEwXCI+XG4gICAgICAgIHsvKiBTSURFQkFSICovfVxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgYmctWyNhYTM2MzZdIHRleHQtd2hpdGUgc2hhZG93LXhsIGZsZXggZmxleC1jb2wgcHgtNCBweS0zIHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTMwMFwiXG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIHRvcDogaGVhZGVySGVpZ2h0LFxuICAgICAgICAgICAgYm90dG9tOiBmb290ZXJIZWlnaHQsXG4gICAgICAgICAgICB3aWR0aDogc2lkZWJhcldpZHRoLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiBzaWRlYmFyT3BlbiA/IFwidHJhbnNsYXRlWCgwKVwiIDogYHRyYW5zbGF0ZVgoLTEwMCUpYCxcbiAgICAgICAgICAgIHpJbmRleDogNjAsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIHsvKiBCQUNLIEJVVFRPTiAqL31cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiByb3V0ZXIucHVzaCh1c2VyID8gXCIvbW9kZWxzXCIgOiBcIi9cIil9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSB0ZXh0LVsjZmFhMDI5XSB0cmFuc2l0aW9uIG1iLTNcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteGxcIj7ihpA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj5cbiAgICAgICAgICAgICAge3VzZXIgPyBcIkJhY2sgdG8gTWVudVwiIDogXCJCYWNrIHRvIEhvbWVcIn1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgIHsvKiBcIisgTkVXIENIQVRcIiAqL31cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVOZXdDaGF0fVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLXdoaXRlIHRleHQtWyNhYTM2MzZdIGZvbnQtYm9sZCBweS0xIHJvdW5kZWQtZnVsbCBzaGFkb3cgbWItNiB0ZXh0LXNtXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblRvcDogXCItNHB4XCIgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICArIE5ldyBDaGF0XG4gICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIG9wYWNpdHktODAgbWItM1wiPlJlY2VudHM8L3A+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLVsxcHhdIGJnLXdoaXRlLzQwIG1iLTRcIj48L2Rpdj5cblxuICAgICAgICAgIHsvKiBVU0VSIElORk8gKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC1hdXRvIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIGJvcmRlci10IGJvcmRlci13aGl0ZS8zMCBwdC00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtMTAgdy0xMCBiZy13aGl0ZS8yMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPGltZyBzcmM9XCIvdHVwaS1sb2dvLnBuZ1wiIGNsYXNzTmFtZT1cImgtOCB3LTggcm91bmRlZC1mdWxsXCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LWJvbGRcIj57cmVhbE5hbWV9PC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIG9wYWNpdHktODBcIj5cbiAgICAgICAgICAgICAgICB7dXNlciA/IFwiTG9nZ2VkIEluXCIgOiBcIkd1ZXN0IE1vZGVcIn1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBTSURFQkFSIFRPR0dMRSAqL31cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNpZGViYXJPcGVuKCFzaWRlYmFyT3Blbil9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgYmctWyNhYTM2MzZdIHRleHQtd2hpdGUgcHgtMiBweS0zIHJvdW5kZWQtci1mdWxsIHNoYWRvdyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDBcIlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICB0b3A6IGBjYWxjKCR7aGVhZGVySGVpZ2h0fXB4ICsgMzAlKWAsXG4gICAgICAgICAgICBsZWZ0OiBzaWRlYmFyT3BlbiA/IGAke3NpZGViYXJXaWR0aH1weGAgOiBcIjBweFwiLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZVkoLTUwJSlcIixcbiAgICAgICAgICAgIHpJbmRleDogNzAsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIHtzaWRlYmFyT3BlbiA/IFwi4peAXCIgOiBcIuKWtlwifVxuICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICB7LyogQ0hBVCBBUkVBICovfVxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtgZmxleC0xIHJlbGF0aXZlIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCAke1xuICAgICAgICAgICAgc2lkZWJhck9wZW4gPyBgbWwtWzIyNHB4XWAgOiBcIm1sLTBcIlxuICAgICAgICAgIH1gfVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBtYXJnaW5Ub3A6IGAke2hlYWRlckhlaWdodH1weGAsXG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206IHNob3dLZXlib2FyZFxuICAgICAgICAgICAgICA/IGAke2Zvb3RlckhlaWdodCArIGtleWJvYXJkSGVpZ2h0ICsga2V5Ym9hcmRQYWRkaW5nICsgaW5wdXRCYXJIZWlnaHQgKyA0fXB4YFxuICAgICAgICAgICAgICA6IGAke2Zvb3RlckhlaWdodH1weGAsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBcIm1hcmdpbi1ib3R0b20gMC4zcyBlYXNlLWluLW91dFwiLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICB7Lyog4pyFIEdlbmVyYXRlIFFSIGJ1dHRvbiBpbnNpZGUgY2hhdCBhcmVhIChhZGRlZCkgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMyByaWdodC02IHotNDBcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlR2VuZXJhdGVRUn1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e21lc3NhZ2VzLmxlbmd0aCA9PT0gMH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtNCBweS0yIHJvdW5kZWQtZnVsbCBzaGFkb3cgZm9udC1zZW1pYm9sZCB0ZXh0LXhzICR7XG4gICAgICAgICAgICAgICAgbWVzc2FnZXMubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICA/IFwiYmctd2hpdGUvNTAgdGV4dC1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgICAgICA6IFwiYmctd2hpdGUvOTAgdGV4dC1ibGFja1wiXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICB0aXRsZT17XG4gICAgICAgICAgICAgICAgbWVzc2FnZXMubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICA/IFwiU3RhcnQgYSBjb252ZXJzYXRpb24gZmlyc3RcIlxuICAgICAgICAgICAgICAgICAgOiBcIkdlbmVyYXRlIFFSIGZvciB0aGlzIGNvbnZlcnNhdGlvblwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgR2VuZXJhdGUgUVJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIE1FU1NBR0VTICovfVxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgcHgtNiBvdmVyZmxvdy15LWF1dG8gZmxleCBmbGV4LWNvbFwiXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBwYWRkaW5nVG9wOiBcIjE1cHhcIixcbiAgICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogc2hvd0tleWJvYXJkXG4gICAgICAgICAgICAgICAgPyBgJHtpbnB1dEJhckhlaWdodCArIGtleWJvYXJkUGFkZGluZyArIGtleWJvYXJkSGVpZ2h0fXB4YFxuICAgICAgICAgICAgICAgIDogYCR7aW5wdXRCYXJIZWlnaHR9cHhgLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7bWVzc2FnZXMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciB0ZXh0LWNlbnRlciB0ZXh0LXNtIGZvbnQtYm9sZCB0ZXh0LVsjYWEzNjM2XVwiPlxuICAgICAgICAgICAgICAgIEhlbGxvLCB7bmlja25hbWV9IVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIG1lc3NhZ2VzLm1hcCgobXNnLCBpKSA9PiAoXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAga2V5PXtpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbWItNCB3LWZ1bGwgJHtcbiAgICAgICAgICAgICAgICAgICAgbXNnLnJvbGUgPT09IFwidXNlclwiID8gXCJ0ZXh0LXJpZ2h0XCIgOiBcInRleHQtbGVmdFwiXG4gICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGlubGluZS1ibG9jayBweC00IHB5LTMgcm91bmRlZC0yeGwgc2hhZG93LWxnIHRleHQtc20gbWF4LXctWzg1JV0gJHtcbiAgICAgICAgICAgICAgICAgICAgICBtc2cucm9sZSA9PT0gXCJ1c2VyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJiZy1bI2FhMzYzNl0gdGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiYmctd2hpdGUgdGV4dC1ibGFjayBib3JkZXIgYm9yZGVyLWdyYXktMjAwXCJcbiAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgd2hpdGVTcGFjZTogXCJwcmUtd3JhcFwiLFxuICAgICAgICAgICAgICAgICAgICAgIHdvcmRCcmVhazogXCJicmVhay13b3JkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dXcmFwOiBcImJyZWFrLXdvcmRcIixcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge21zZy5yb2xlID09PSBcInVzZXJcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndoaXRlc3BhY2UtcHJlLXdyYXAgYnJlYWstd29yZHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttc2cuY29udGVudH1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICA8U2ltcGxlTWFya2Rvd25SZW5kZXJlciB0ZXh0PXttc2cuY29udGVudH0gLz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgPGRpdiByZWY9e2VuZFJlZn0gLz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiDinIUgUVIgTU9EQUwgKGFkZGVkKSAqL31cbiAgICAgICAgICB7c2hhcmVPcGVuICYmIHNoYXJlSWQgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotWzkwXSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBiZy1ibGFjay81MFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hhcmVPcGVuKGZhbHNlKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBiZy13aGl0ZSByb3VuZGVkLTJ4bCBzaGFkb3ctMnhsIGJvcmRlciBwLTUgdy1bMzIwcHhdIG1heC13LVs5MHZ3XVwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1ib2xkIHRleHQtY2VudGVyIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgIFNjYW4gdG8gdmlldyBvbiBwaG9uZVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDAgdGV4dC1jZW50ZXIgbWItM1wiPlxuICAgICAgICAgICAgICAgICAgVGhpcyBvcGVucyBhIGRvY3VtZW50LXN0eWxlIHBhZ2UgdGhhdCBjYW4gYmUgc2F2ZWQgYXMgUERGLlxuICAgICAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPFFSQ29kZUNhbnZhcyB2YWx1ZT17c2hhcmVVcmx9IHNpemU9ezIyMH0gaW5jbHVkZU1hcmdpbj17dHJ1ZX0gLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBiZy1bI2FhMzYzNl0gdGV4dC13aGl0ZSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgcHktMiByb3VuZGVkLXhsXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICghc2hhcmVVcmwpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkPy53cml0ZVRleHQoc2hhcmVVcmwpO1xuICAgICAgICAgICAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCJMaW5rIGNvcGllZCFcIik7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIENvcHkgTGlua1xuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIGJnLWdyYXktMjAwIHRleHQteHMgZm9udC1zZW1pYm9sZCBweS0yIHJvdW5kZWQteGxcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaGFyZU9wZW4oZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBDbG9zZVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsvKiBJTlBVVCBCQVIgKi99XG4gICAgICAgICAgPGZvcm1cbiAgICAgICAgICAgIHJlZj17aW5wdXRCYXJSZWZ9XG4gICAgICAgICAgICBvblN1Ym1pdD17aGFuZGxlU2VuZH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGZpeGVkIGxlZnQtMCB6LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0zIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCAke1xuICAgICAgICAgICAgICBzaWRlYmFyT3BlblxuICAgICAgICAgICAgICAgID8gXCJtbC1bMjI0cHhdIHctW2NhbGMoMTAwJS0xNHJlbSldIHB4LTZcIlxuICAgICAgICAgICAgICAgIDogXCJtbC0wIHctZnVsbCBweC02XCJcbiAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgYm90dG9tOiBzaG93S2V5Ym9hcmRcbiAgICAgICAgICAgICAgICA/IGAke2Zvb3RlckhlaWdodCArIGtleWJvYXJkSGVpZ2h0ICsga2V5Ym9hcmRQYWRkaW5nICsgNH1weGBcbiAgICAgICAgICAgICAgICA6IGAke2Zvb3RlckhlaWdodCArIDh9cHhgLFxuICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBcImJvdHRvbSAwLjNzIGVhc2UtaW4tb3V0XCIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICByZWY9e2lucHV0UmVmfVxuICAgICAgICAgICAgICB2YWx1ZT17aW5wdXR9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgIGNvbnN0IGNhcmV0ID0gZS50YXJnZXQuc2VsZWN0aW9uU3RhcnQ7XG4gICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICBzZXRJbnB1dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgIGtleWJvYXJkSW5wdXRSZWYuY3VycmVudCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICBjYXJldFBvc2l0aW9uUmVmLmN1cnJlbnQgPSBjYXJldDtcbiAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgIGlmIChrZXlib2FyZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICBrZXlib2FyZFJlZi5jdXJyZW50LnNldElucHV0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIGtleWJvYXJkUmVmLmN1cnJlbnQuc2V0Q2FyZXRQb3NpdGlvbihjYXJldCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBjYXJldCA9IGUudGFyZ2V0LnNlbGVjdGlvblN0YXJ0O1xuICAgICAgICAgICAgICBjYXJldFBvc2l0aW9uUmVmLmN1cnJlbnQgPSBjYXJldDtcbiAgICAgICAgICAgICAga2V5Ym9hcmRSZWYuY3VycmVudD8uc2V0Q2FyZXRQb3NpdGlvbihjYXJldCk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25LZXlVcD17KGUpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgY2FyZXQgPSBlLnRhcmdldC5zZWxlY3Rpb25TdGFydDtcbiAgICAgICAgICAgICAgY2FyZXRQb3NpdGlvblJlZi5jdXJyZW50ID0gY2FyZXQ7XG4gICAgICAgICAgICAgIGtleWJvYXJkUmVmLmN1cnJlbnQ/LnNldENhcmV0UG9zaXRpb24oY2FyZXQpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25Gb2N1cz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFNob3dLZXlib2FyZCh0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAoY2hhdENvbnRhaW5lclJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICBsYXN0U2Nyb2xsVG9wUmVmLmN1cnJlbnQgPSBjaGF0Q29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25CbHVyPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzS2V5Ym9hcmRDbGljayA9IGUucmVsYXRlZFRhcmdldD8uY2xvc2VzdChcIi5zaW1wbGUta2V5Ym9hcmRcIik7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNJbnB1dENsaWNrID0gZS5yZWxhdGVkVGFyZ2V0Py5jbG9zZXN0KFxuICAgICAgICAgICAgICAgICAgJ2lucHV0W3BsYWNlaG9sZGVyKj1cIkFza1wiXSdcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzU2lkZWJhckNsaWNrID0gZS5yZWxhdGVkVGFyZ2V0Py5jbG9zZXN0KFxuICAgICAgICAgICAgICAgICAgXCIuZml4ZWQuYmctXFxcXFtcXFxcI2FhMzYzNlxcXFxdXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzU2lkZWJhclRvZ2dsZUNsaWNrID0gZS5yZWxhdGVkVGFyZ2V0Py5jbG9zZXN0KFxuICAgICAgICAgICAgICAgICAgXCJidXR0b24uZml4ZWQuYmctXFxcXFtcXFxcI2FhMzYzNlxcXFxdXCJcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgIWlzS2V5Ym9hcmRDbGljayAmJlxuICAgICAgICAgICAgICAgICAgIWlzSW5wdXRDbGljayAmJlxuICAgICAgICAgICAgICAgICAgIWlzU2lkZWJhckNsaWNrICYmXG4gICAgICAgICAgICAgICAgICAhaXNTaWRlYmFyVG9nZ2xlQ2xpY2tcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRTaG93S2V5Ym9hcmQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgQXNrICR7bW9kZWxLZXkudG9VcHBlckNhc2UoKX0uLi5gfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHktMyBweC01IHJvdW5kZWQtZnVsbCBiZy13aGl0ZS85NSBvdXRsaW5lLW5vbmUgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBzaGFkb3ctc20gdGV4dC1zbSBmb2N1czpib3JkZXItWyNhYTM2MzZdIGZvY3VzOnJpbmctMSBmb2N1czpyaW5nLVsjYWEzNjM2XSB0cmFuc2l0aW9uXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NlbmRpbmd9XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17c2VuZGluZyB8fCAhaW5wdXQudHJpbSgpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1bI2FhMzYzNl0gdGV4dC13aGl0ZSBweC01IHB5LTMgcm91bmRlZC1mdWxsIHRleHQtc20gc2hhZG93XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgU2VuZFxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsIlFSQ29kZUNhbnZhcyIsInVzZVJvdXRlciIsImF1dGgiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJzaWduT3V0IiwidG9hc3QiLCJnZXRDb252ZXJzYXRpb24iLCJhcHBlbmRNZXNzYWdlIiwic2V0Q29udmVyc2F0aW9uIiwiZ2V0VXNlclByb2ZpbGUiLCJLZXlib2FyZCIsImxheW91dCIsInF3ZXJ0eSIsImRlZmF1bHQiLCJzaGlmdCIsIlNpbXBsZU1hcmtkb3duUmVuZGVyZXIiLCJ0ZXh0IiwibGluZXMiLCJzcGxpdCIsIm1hcCIsImxpbmUiLCJpbmRleCIsInRyaW0iLCJiciIsImNvbnRlbnQiLCJib2xkUmVnZXgiLCJwYXJ0cyIsImxhc3RJbmRleCIsIm1hdGNoIiwiZXhlYyIsInB1c2giLCJzcGFuIiwic3Vic3RyaW5nIiwic3Ryb25nIiwibGVuZ3RoIiwiZGl2IiwiY2xhc3NOYW1lIiwiZm9ybWF0QUlSZXNwb25zZSIsImNsZWFuZWQiLCJzdGFydHNXaXRoIiwiZW5kc1dpdGgiLCJqc29uIiwiSlNPTiIsInBhcnNlIiwiZ2VuZXJhdGVkX3RleHQiLCJyZXNwb25zZSIsImFuc3dlciIsIm91dHB1dCIsIm1lc3NhZ2UiLCJzdHJpbmdpZnkiLCJyZXBsYWNlIiwiQ2hhdFBhZ2UiLCJyb3V0ZXIiLCJtb2RlbCIsInB1YmxpYyIsImlzUHVibGljIiwicXVlcnkiLCJtb2RlbENvbmZpZ3MiLCJlY2UiLCJ1cmwiLCJ0b2tlbiIsIm5hdiIsImluZm8iLCJtb2RlbEtleSIsInNlbGVjdGVkTW9kZWwiLCJpc1B1YmxpY0FjY2VzcyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwidXNlciIsInNldFVzZXIiLCJuaWNrbmFtZSIsInNldE5pY2tuYW1lIiwicmVhbE5hbWUiLCJzZXRSZWFsTmFtZSIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJpbnB1dCIsInNldElucHV0Iiwic2VuZGluZyIsInNldFNlbmRpbmciLCJzaGlmdEFjdGl2ZSIsInNldFNoaWZ0QWN0aXZlIiwiZW5kUmVmIiwic2lkZWJhck9wZW4iLCJzZXRTaWRlYmFyT3BlbiIsInNob3dLZXlib2FyZCIsInNldFNob3dLZXlib2FyZCIsImtleWJvYXJkUmVmIiwibGFzdFNjcm9sbFRvcFJlZiIsImtleWJvYXJkU2Nyb2xsVGhyZXNob2xkIiwiY2hhdENvbnRhaW5lclJlZiIsImlucHV0QmFyUmVmIiwia2V5Ym9hcmRJbnB1dFJlZiIsImlucHV0UmVmIiwiY2FyZXRQb3NpdGlvblJlZiIsInNoYXJlSWQiLCJzZXRTaGFyZUlkIiwic2hhcmVPcGVuIiwic2V0U2hhcmVPcGVuIiwidW5zdWIiLCJ1IiwicHJvZmlsZSIsInVpZCIsIm5hbWUiLCJkaXNwbGF5TmFtZSIsImVtYWlsIiwibmljayIsImNvbnYiLCJjdXJyZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaGFuZGxlU2Nyb2xsIiwiY2hhdENvbnRhaW5lciIsImN1cnJlbnRTY3JvbGxUb3AiLCJzY3JvbGxUb3AiLCJzY3JvbGxEaWZmIiwiTWF0aCIsImFicyIsImlucHV0RWxlbWVudCIsImJsdXIiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJoYW5kbGVTZW5kIiwiZSIsInByZXZlbnREZWZhdWx0IiwidHJpbW1lZCIsInVzZXJNc2ciLCJyb2xlIiwidXBkYXRlZE1lc3NhZ2VzIiwiaWQiLCJlcnJvck1zZyIsImRpc21pc3MiLCJyZXF1ZXN0T3B0aW9ucyIsIm1ldGhvZCIsImhlYWRlcnMiLCJyZXF1ZXN0Rm9ybWF0cyIsImlucHV0cyIsInBhcmFtZXRlcnMiLCJtYXhfbmV3X3Rva2VucyIsInRlbXBlcmF0dXJlIiwibWF4X2xlbmd0aCIsInJlcGx5IiwibGFzdEVycm9yIiwiaSIsImJvZHkiLCJyZXMiLCJmZXRjaCIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJyYXciLCJlcnIiLCJhaU1zZyIsInN1Y2Nlc3MiLCJlcnJvciIsImhhbmRsZU5ld0NoYXQiLCJoYW5kbGVTaWduT3V0IiwidGhlbiIsImhhbmRsZVNpZ25JbiIsImhhbmRsZUdlbmVyYXRlUVIiLCJjcmVhdGVkQXQiLCJEYXRlIiwibm93IiwibSIsImRhdGEiLCJoZWFkZXJIZWlnaHQiLCJmb290ZXJIZWlnaHQiLCJzaWRlYmFyV2lkdGgiLCJrZXlib2FyZEhlaWdodCIsImlucHV0QmFySGVpZ2h0Iiwia2V5Ym9hcmRQYWRkaW5nIiwic2hhcmVVcmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsIm9yaWdpbiIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiaGVhZGVyIiwiaGVpZ2h0IiwiaW1nIiwic3JjIiwiYWx0IiwiaDEiLCJidXR0b24iLCJvbkNsaWNrIiwiZm9vdGVyIiwiYm90dG9tIiwibGVmdCIsInpJbmRleCIsImZvY3VzIiwiciIsImxheW91dE5hbWUiLCJvbkNoYW5nZSIsIm5ld0lucHV0Iiwib25LZXlQcmVzcyIsIm5ld1NoaWZ0U3RhdGUiLCJzZXRUaW1lb3V0Iiwic2V0T3B0aW9ucyIsInRoZW1lIiwiZGlzcGxheSIsInByZXZlbnRNb3VzZURvd25EZWZhdWx0IiwicHJldmVudE1vdXNlVXBEZWZhdWx0Iiwic3luY0luc3RhbmNlSW5wdXRzIiwibWVyZ2VEaXNwbGF5IiwibmV3TGluZU9uRW50ZXIiLCJhdXRvVXNlVG91Y2hFdmVudHMiLCJ0b3AiLCJ3aWR0aCIsInRyYW5zZm9ybSIsIm1hcmdpblRvcCIsInAiLCJtYXJnaW5Cb3R0b20iLCJ0cmFuc2l0aW9uIiwiZGlzYWJsZWQiLCJ0aXRsZSIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIiwibXNnIiwid2hpdGVTcGFjZSIsIndvcmRCcmVhayIsIm92ZXJmbG93V3JhcCIsInJlZiIsInZhbHVlIiwic2l6ZSIsImluY2x1ZGVNYXJnaW4iLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJmb3JtIiwib25TdWJtaXQiLCJ0YXJnZXQiLCJjYXJldCIsInNlbGVjdGlvblN0YXJ0Iiwic2V0Q2FyZXRQb3NpdGlvbiIsIm9uS2V5VXAiLCJvbkZvY3VzIiwib25CbHVyIiwiaXNLZXlib2FyZENsaWNrIiwicmVsYXRlZFRhcmdldCIsImNsb3Nlc3QiLCJpc0lucHV0Q2xpY2siLCJpc1NpZGViYXJDbGljayIsImlzU2lkZWJhclRvZ2dsZUNsaWNrIiwicGxhY2Vob2xkZXIiLCJ0b1VwcGVyQ2FzZSIsInR5cGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./pages/chat.js\n"));

/***/ })

});